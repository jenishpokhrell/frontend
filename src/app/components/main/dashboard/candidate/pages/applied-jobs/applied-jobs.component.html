<div class="mx-auto">
  <div class="mb-4 sm:mb-6">
    <h2 class="text-lg sm:text-xl font-semibold text-gray-800 dark:text-white">
      My Applied Jobs
    </h2>
  </div>

  <!-- Desktop View -->
  <div class="hidden md:block">
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
        <thead class="bg-gray-50 dark:bg-gray-600">
          <tr>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              JobId
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              Job Status
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              Job Title
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              Posted By
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              Message
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
            >
              Actions
            </th>
          </tr>
        </thead>
        <tbody
          class="bg-white dark:bg-gray-700 divide-y divide-gray-200 dark:divide-gray-600"
        >
          <tr
            *ngFor="let appliedJob of appliedJobs"
            class="hover:bg-gray-50 dark:hover:bg-gray-600"
          >
            <td
              class="px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-white"
            >
              {{ appliedJob.job.id }}
            </td>
            <td class="px-4 py-4 whitespace-nowrap text-sm">
              @if(appliedJob.jobStatus === 'Pending'){
              <span
                class="inline-block px-3 py-1 text-xs font-semibold bg-yellow-100 text-yellow-800 rounded-full"
                >{{ appliedJob.jobStatus }}</span
              >
              }@else if(appliedJob.jobStatus === 'Shortlisted'){
              <span
                class="inline-block px-3 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded-full"
                >{{ appliedJob.jobStatus }}</span
              >
              }@else {
              <span
                class="inline-block px-3 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded-full"
                >{{ appliedJob.jobStatus }}</span
              >
              }
            </td>
            <td
              class="px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"
            >
              {{ appliedJob.job.jobTitle }}
            </td>
            <td
              class="px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"
            >
              {{ appliedJob.job.postedBy }}
            </td>
            <td
              class="px-4 py-4 whitespace-nowrap sm:hidden md:block lg:block text-sm"
            >
              @if(appliedJob.jobStatus === 'Pending'){
              <span class="text-yellow-600 dark:text-yellow-300">{{
                appliedJob.message
              }}</span>
              }@else if(appliedJob.jobStatus === 'Shortlisted'){
              <span class="text-green-600 dark:text-green-300">{{
                appliedJob.message
              }}</span>
              }@else {
              <span class="text-red-600 dark:text-red-300">{{
                appliedJob.message
              }}</span>
              }
            </td>
            <td
              class="px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"
            >
              <button
                class="px-4 py-2 bg-blue-900 rounded-full text-sm text-white"
                routerLink="/viewjob/{{ appliedJob.job.id }}"
              >
                View Job
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Mobile View-->
  <div class="md:hidden space-y-4">
    <div
      *ngFor="let appliedJob of appliedJobs"
      class="bg-white dark:bg-gray-700 rounded-lg shadow p-4"
    >
      <div class="flex justify-between items-start">
        <div>
          <h3 class="text-sm font-medium text-gray-800 dark:text-white">
            {{ appliedJob.job.jobTitle }}
          </h3>
          <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">
            Job ID: {{ appliedJob.job.id }}
          </p>
        </div>
        <div>
          @if(appliedJob.jobStatus === 'Pending'){
          <span
            class="inline-block px-2 py-1 text-xs font-semibold bg-yellow-100 text-yellow-800 rounded-full"
            >{{ appliedJob.jobStatus }}</span
          >
          }@else if(appliedJob.jobStatus === 'Shortlisted'){
          <span
            class="inline-block px-2 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded-full"
            >{{ appliedJob.jobStatus }}</span
          >
          }@else {
          <span
            class="inline-block px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded-full"
            >{{ appliedJob.jobStatus }}</span
          >
          }
        </div>
      </div>

      <div class="mt-3 text-sm">
        <p class="text-gray-600 dark:text-gray-300">
          <span class="font-medium">Posted By:</span>
          {{ appliedJob.job.postedBy }}
        </p>
      </div>

      <div class="mt-4 flex justify-end">
        <button
          class="px-3 py-1.5 bg-blue-900 hover:bg-blue-800 rounded-full text-xs text-white transition-colors"
          routerLink="/viewjob/{{ appliedJob.job.id }}"
        >
          View Job
        </button>
      </div>
    </div>
  </div>
</div>
