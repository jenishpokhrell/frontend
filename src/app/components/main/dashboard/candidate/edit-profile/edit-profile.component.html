<div class="flex h-screen bg-gray-100 dark:bg-gray-900">
    <app-sidebar
                 [menuItems]="menuItems" 
                 [collapsed]="collapsed"
                 (toggleCollapse)="toggleSidebar()"></app-sidebar>
  
    <div class="flex-1 flex flex-col overflow-hidden" [class.ml-14]="!collapsed" [class.ml-5]="collapsed">
      <app-header [title]="'Update Profile'"
                  (toggleSidebar)="toggleSidebar()"></app-header>
  
      <main class="flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-800">
        <div class=" text-gray-50">
            <div>
                <h1 class="text-2xl font-semibold">Update your profile</h1>
            </div>
            <div class="mt-12 text-[14px]">
                <form [formGroup] = "update">
                    <div class="md:mb-7 md:w-full md:flex md:space-x-10">
                        <div class="mb-3 md:w-1/2">
                            <label for="" class="font-bold">First Name</label>
                            <input type="text" placeholder="Enter your first name" class="w-full p-3 bg-gray-700 outline-none" formControlName="firstname">
                            <p *ngIf="isInvalid('firstname')" class="text-red-500 text-sm mt-1">Firstname is required</p>
                        </div>
                        <div class="mb-3 md:w-1/2">
                            <label for="" class="font-bold">Last Name</label>
                            <input type="text" placeholder="Enter your last name" class="w-full p-3 bg-gray-700 outline-none" formControlName="lastname">
                            <p *ngIf="isInvalid('lastname')" class="text-red-500 text-sm mt-1">Lastname is required</p>
                        </div>
                    </div>
                    <div class="md:mb-7 md:w-full md:flex md:space-x-10">
                        <div class="mb-3 md:w-1/2">
                            <label for="" class="font-bold">Username</label>
                            <input type="text" placeholder="Enter your username" class="w-full p-3 bg-gray-700 outline-none" formControlName="username">
                            <p *ngIf="isInvalid('username')" class="text-red-500 text-sm mt-1">Username is required</p>
                        </div>
                        <div class=" mb-3 md:w-1/2">
                            <label for="" class="font-bold">Address</label>
                            <input type="text" placeholder="Enter your address" class="w-full p-3 bg-gray-700 outline-none" formControlName="address">
                            <p *ngIf="isInvalid('address')" class="text-red-500 text-sm mt-1">Address is required</p>
                        </div>
                    </div>
                    <div class="md:mb-7 mb-3">
                        <label for="" class="font-bold">Email Address</label>
                        <input type="text" placeholder="Enter your email address" class="w-full p-3 bg-gray-700 outline-none" formControlName="email">
                        <p *ngIf="update.get('email')?.touched && update.get('email')?.hasError('required')" class="text-red-500 text-sm mt-1">Email is required</p>
                        <p *ngIf="update.get('email')?.touched && update.get('email')?.hasError('email')" class="text-red-500 text-sm mt-1">Invalid email format</p>
                    </div>
                    <div class="md:mb-8 mb-3">
                        <label for="" class="font-bold">Mobile Number</label>
                        <input type="text" placeholder="Enter your mobile number" class="w-full p-3 bg-gray-700 outline-none" formControlName="contact">
                        <p *ngIf="update.get('contact')?.touched && update.get('contact')?.hasError('required')" class="text-red-500 text-sm mt-1">Contact is required</p>
                        <p *ngIf="update.get('contact')?.touched && update.get('contact')?.hasError('pattern')" class="text-red-500 text-sm mt-1">Enter a valid number</p>
                    </div>
                    <div class="md:mb-8 mb-3">
                        <label for="" class="font-bold">Are you?</label>
                        <div class="flex space-x-8 mt-1">
                            <select id="gender" formControlName="gender" class="w-full p-3 bg-gray-700 outline-none">
                                <option value="">-- Select Role --</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                        </div>
                    </div>
                    <div class="md:mb-8 mb-3">
                        <label for="" class="font-bold">Profile Picture</label>
                        <img *ngIf="previewImage" [src]="previewImage" alt="profile picture" width="200">
                        <div>
                            <input type="file" (change) = "onFileSelected($event)" accept=".png, .jpg, .jpeg">
                        </div>
                        <div class="mt-3">
                            <p class="text-gray-400 text-sm mt-1">Optional: Upload a new photo to update</p>
                        </div>
                        <!-- <div *ngIf="selectedImage" class="mb-8">
                            <img [src]="selectedImage" alt="Selected Image" width="250">
                        </div> -->
                    </div>
                    <div class="md:mb-7 md:w-full md:flex md:space-x-10">
                        <div class="mb-3 md:w-1/2">
                            <label for="" class="font-bold">Position</label>
                            <input type="text" placeholder="Enter your current position" class="w-full p-3 bg-gray-700 outline-none" formControlName="jobTitle">
                            <p *ngIf="isInvalid('jobtitle')" class="text-red-500 text-sm mt-1">Position is required</p>
                        </div>
                        <div class="mb-3 md:w-1/2">
                            <label for="" class="font-bold">Years of experience</label>
                            <input type="text" placeholder="Enter your experience in years" class="w-full p-3 bg-gray-700 outline-none" formControlName="years_Of_Experience">
                            <p *ngIf="isInvalid('years_of_experience')" class="text-red-500 text-sm mt-1">Years of experience is required</p>
                        </div>
                    </div>
        
                    <div class="flex space-x-14">
                        <div class="mt-10font-bold text-[14px] text-white cursor-pointer rounded-full">
                            <button class="p-4 bg-blue-900 rounded-full w-36 text-[13px] text-white" (click)="updateProfile()">
                                Update Profile
                            </button>
                        </div>
                        <div class="mt-10font-bold text-[14px] text-white cursor-pointer rounded-full">
                            <button class="p-4 bg-red-600 rounded-full w-36 text-[13px] text-white" (click)="deleteProfile(userId)">
                                Delete Profile
                            </button>
                        </div>
                    </div>
                </form>
                </div>
        </div>
      </main>
    </div> 
  </div>