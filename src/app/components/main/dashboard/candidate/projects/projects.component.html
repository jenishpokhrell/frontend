<div class="flex flex-col md:flex-row h-screen bg-gray-100 dark:bg-gray-900">
    <div *ngIf="mobileSidebarVisible" class="fixed inset-0 z-40 md:hidden" (click)="toggleMobileSidebar()">
      <div class="absolute inset-0 bg-gray-600 opacity-75"></div>
    </div>
    <app-sidebar
      [menuItems]="menuItems"
      [collapsed]="collapsed"
      (toggleCollapse)="toggleSidebar()"
      class="hidden md:block"
      [class.md:w-64]="!collapsed"
      [class.md:w-20]="collapsed"
    ></app-sidebar>
  
  
    <div *ngIf="mobileSidebarVisible" class="fixed inset-y-0 left-0 z-50 w-64 bg-gray-800 md:hidden overflow-y-auto">
      <app-sidebar
        [menuItems]="menuItems"
        [collapsed]="false"
        class="h-full"
      ></app-sidebar>
    </div>
  
    <div class="flex-1 flex flex-col min-h-0 transition-all duration-300"
      [class.md:ml-20]="!collapsed"
      [class.md:ml-20]="collapsed"
    >
      <app-header
        [title]="'My Projects'"
        (toggleSidebar)="toggleMobileSidebar()"
      ></app-header>
  
      <main class="flex-1 overflow-y-auto p-4 sm:p-6 bg-gray-50 dark:bg-gray-800">
        <div class="mx-auto">
          <!-- Page Title -->
          <div class="mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-800 dark:text-white">
              My Projects
            </h2>
          </div>
  
          <!-- Projects Content - Stack on mobile/tablet -->
          <div class="flex flex-col lg:flex-row gap-6">
            <!-- Projects List -->
            <div class="w-full lg:w-1/2 space-y-4">
              <div *ngFor="let project of projects" class="bg-gray-900 p-5 sm:p-7 rounded-lg shadow-lg">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
                  <div>
                    <h3 class="text-lg sm:text-xl font-semibold text-white">{{project.projectName}}</h3>
                    <p class="text-gray-300 text-sm sm:text-base">
                      <span class="font-medium">Project URL: </span>
                      <a [href]="project.projectURL" target="_blank" class="text-blue-400 hover:underline break-all">
                        {{project.projectURL}}
                      </a>
                    </p>
                  </div>
                  <div class="flex gap-3 sm:gap-5">
                    <fa-icon 
                      [icon]="edit" 
                      class="text-gray-300 hover:text-blue-400 cursor-pointer transition-colors text-lg"
                      (click)="getProjectById(project.projectId)">
                    </fa-icon>
                    <fa-icon 
                      [icon]="delete" 
                      class="text-gray-300 hover:text-red-400 cursor-pointer transition-colors text-lg"
                      (click)="deleteProject(project.projectId)">
                    </fa-icon>
                  </div>
                </div>
                
                <div class="mt-4">
                  <p class="text-gray-300 text-sm sm:text-base">{{project.projectDescription}}</p>
                </div>
              </div>
            </div>
  
            <!-- Project Form -->
            <div class="w-full lg:w-1/2 bg-gray-900 p-5 sm:p-7 rounded-lg shadow-lg">
              <form [formGroup]="projectForm" (submit)="editForm ? updateProject() : saveProject()">
                <!-- Project Name -->
                <div class="mb-4 sm:mb-6">
                  <label class="block font-bold text-white mb-2">Project Title</label>
                  <input 
                    type="text" 
                    placeholder="Enter your project name" 
                    class="w-full p-3 text-[14px] bg-gray-700 dark:bg-gray-600 text-white rounded outline-none"
                    formControlName="projectName">
                  <p *ngIf="isInvalid('projectName')" class="text-red-500 text-sm mt-1">Project name is required</p>
                </div>
  
                <!-- Project URL -->
                <div class="mb-4 sm:mb-6">
                  <label class="block font-bold text-white mb-2">Project URL</label>
                  <input 
                    type="text" 
                    placeholder="https://example.com" 
                    class="w-full p-3 text-[14px] bg-gray-700 dark:bg-gray-600 text-white rounded outline-none"
                    formControlName="projectURL">
                  <p *ngIf="isInvalid('projectURL')" class="text-red-500 text-sm mt-1">Project URL is required</p>
                </div>
  
                <!-- Project Description -->
                <div class="mb-6">
                  <label class="block font-bold text-white mb-2">Project Description</label>
                  <textarea 
                    placeholder="Describe your project..." 
                    rows="5"
                    class="w-full p-3 text-[14px] bg-gray-700 dark:bg-gray-600 text-white rounded outline-none"
                    formControlName="projectDescription"></textarea>
                  <p *ngIf="isInvalid('projectDescription')" class="text-red-500 text-sm mt-1">Project description is required</p>
                </div>
  
                <!-- Submit Button -->
                <div class="flex justify-start">
                  <button 
                    type="submit"
                    class="px-6 py-3 bg-blue-900 rounded-full text-sm  text-white">
                    {{editForm ? 'Update Project' : 'Save Project'}}
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>